(this.webpackJsonptechaid=this.webpackJsonptechaid||[]).push([[0],{428:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"},{"internalType":"uint256","name":"_ammount","type":"uint256"}],"name":"addCatalogue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_image","type":"string"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"uint256","name":"_noOfAvailable","type":"uint256"}],"name":"addGadget","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"buyGadget","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getGadget","outputs":[{"internalType":"address payable","name":"","type":"address"},{"internalType":"string","name":"","type":"string"},{"internalType":"string","name":"","type":"string"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getGadgetsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"},{"internalType":"uint256","name":"_newPrice","type":"uint256"}],"name":"modifyPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"},{"internalType":"uint256","name":"_ammount","type":"uint256"}],"name":"reduceCatalogue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"unlistGadget","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},429:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},436:function(e,t,n){},438:function(e,t,n){},453:function(e,t){},454:function(e,t){},457:function(e,t){},461:function(e,t){},485:function(e,t){},487:function(e,t){},501:function(e,t){},503:function(e,t){},531:function(e,t){},533:function(e,t){},600:function(e,t){},602:function(e,t){},630:function(e,t){},631:function(e,t){},637:function(e,t){},656:function(e,t){},699:function(e,t){},700:function(e,t){},792:function(e,t){},797:function(e,t){},979:function(e,t,n){"use strict";n.r(t);var a=n(17),r=n.n(a),c=n(424),i=n.n(c),s=(n(436),n(57)),u=n(32),o=n(16),l=n.n(o),d=(n(438),n(7)),p=function(e){return Object(d.jsx)("div",{children:Object(d.jsx)("nav",{class:"navbar",children:Object(d.jsxs)("div",{class:"container-fluid",children:[Object(d.jsx)("span",{class:"navbar-brand m-0 fw-bold text-white",children:Object(d.jsx)("h1",{children:"Tack Aid"})}),Object(d.jsxs)("span",{class:"nav-link border rounded-pill bg-light",children:[Object(d.jsx)("span",{id:"balance",children:e.cUSDBalance}),"cUSD"]})]})})})},b=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),s=Object(u.a)(i,2),o=s[0],l=s[1],p=Object(a.useState)(""),b=Object(u.a)(p,2),y=b[0],f=b[1];return Object(d.jsx)("div",{className:"card-container",children:e.gadgets.map((function(t){return Object(d.jsxs)("div",{class:"card",children:[Object(d.jsx)("h3",{children:"Gadgets"}),Object(d.jsx)("img",{class:"card-img-top",src:t.image,alt:"Card image cap"}),Object(d.jsxs)("div",{class:"card-body",children:[Object(d.jsxs)("h5",{class:"card-title",children:[t.sold," Gadgets Sold"]}),Object(d.jsx)("h5",{class:"card-title",children:t.noOfAvailable>0?"".concat(t.noOfAvailable," Gadgets Available"):"Sold out"}),Object(d.jsx)("p",{class:"card-text",children:t.description}),Object(d.jsxs)("p",{class:"card-title",children:["Price: ",t.price/1e18,"cUSD"]}),e.walletAddress!==t.owner&&0!==t.noOfAvailable&&Object(d.jsx)("button",{type:"button",onClick:function(){return e.buyGadget(t.index)},class:"btn btn-dark mt-2",children:"Buy Gadget"}),e.walletAddress===t.owner&&Object(d.jsx)("form",{children:Object(d.jsxs)("div",{class:"form-r",children:[Object(d.jsx)("input",{type:"text",class:"form-control mt-4",value:r,onChange:function(e){return c(e.target.value)},placeholder:"enter amount to add to catalogue"}),Object(d.jsx)("button",{type:"button",onClick:function(){return e.addCatalogue(t.index,r)},class:"btn btn-dark mt-2",children:"add catalogue"})]})}),e.walletAddress===t.owner&&Object(d.jsx)("form",{children:Object(d.jsxs)("div",{class:"form-r",children:[Object(d.jsx)("input",{type:"text",class:"form-control mt-4",value:o,onChange:function(e){return l(e.target.value)},placeholder:"enter amount to remove from catalogue"}),Object(d.jsx)("button",{type:"button",onClick:function(){return e.reduceCatalogue(t.index,o)},class:"btn btn-dark mt-2",children:"reduce catalogue"})]})}),e.walletAddress===t.owner&&Object(d.jsx)("form",{children:Object(d.jsxs)("div",{class:"form-r",children:[Object(d.jsx)("input",{type:"text",class:"form-control mt-4",value:y,onChange:function(e){return f(e.target.value)},placeholder:"new price"}),Object(d.jsx)("button",{type:"button",onClick:function(){return e.modifyPrice(t.index,y)},class:"btn btn-dark mt-2",children:"Change Price"})]})})]})]})}))})},y=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),s=Object(u.a)(i,2),o=s[0],l=s[1],p=Object(a.useState)(""),b=Object(u.a)(p,2),y=b[0],f=b[1],m=Object(a.useState)(""),j=Object(u.a)(m,2),h=j[0],x=j[1];return Object(d.jsx)("div",{children:Object(d.jsx)("form",{children:Object(d.jsxs)("div",{class:"form-row",children:[Object(d.jsx)("h1",{children:" Add the gadget you want to sell"}),Object(d.jsx)("input",{type:"text",class:"form-control",value:r,onChange:function(e){return c(e.target.value)},placeholder:"image"}),Object(d.jsx)("input",{type:"text",class:"form-control mt-2",value:o,onChange:function(e){return l(e.target.value)},placeholder:"description"}),Object(d.jsx)("input",{type:"text",class:"form-control mt-2",value:y,onChange:function(e){return f(e.target.value)},placeholder:"price"}),Object(d.jsx)("input",{type:"text",class:"form-control mt-2",value:h,onChange:function(e){return x(e.target.value)},placeholder:"No of Available Gadget"}),Object(d.jsx)("button",{type:"button",onClick:function(){return e.addGadget(r,o,y,h)},class:"btn btn-dark mt-2",children:"Add Gadget"})]})})})},f=n(425),m=n.n(f),j=n(427),h=n(22),x=n.n(h),v=n(428),O=n(429),g="0x76A5CD0c34e3af720eBCfbD067bfdd463bEDa1b1";var w=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),i=Object(u.a)(c,2),o=i[0],f=i[1],h=Object(a.useState)(null),w=Object(u.a)(h,2),T=w[0],k=w[1],C=Object(a.useState)(0),S=Object(u.a)(C,2),A=S[0],G=S[1],M=Object(a.useState)([]),_=Object(u.a)(M,2),P=_[0],B=_[1],D=function(){var e=Object(s.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.celo){e.next=21;break}return e.prev=1,e.next=4,window.celo.enable();case 4:return t=new m.a(window.celo),n=Object(j.newKitFromWeb3)(t),e.next=8,n.web3.eth.getAccounts();case 8:return a=e.sent,r=a[0],n.defaultAccount=r,e.next=13,f(r);case 13:return e.next=15,k(n);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(1);case 19:e.next=21;break;case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),F=Object(a.useCallback)(Object(s.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.getTotalBalance(o);case 3:t=e.sent,n=t.cUSD.shiftedBy(-18).toFixed(2),a=new T.web3.eth.Contract(v,g),r(a),G(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[o,T]),E=Object(a.useCallback)(Object(s.a)(l.a.mark((function e(){var t,a,r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.getGadgetsLength().call();case 2:for(t=e.sent,a=[],r=function(e){var t=new Promise(function(){var t=Object(s.a)(l.a.mark((function t(a,r){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.methods.getGadget(e).call();case 2:c=t.sent,a({index:e,owner:c[0],image:c[1],description:c[2],price:c[3],noOfAvailable:c[4],sold:c[5]});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());a.push(t)},c=0;c<t;c++)r(c);return e.next=8,Promise.all(a);case 8:i=e.sent,B(i);case 10:case"end":return e.stop()}}),e)}))),[n]),N=function(){var e=Object(s.a)(l.a.mark((function e(t,a,r,c){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new x.a(r).shiftedBy(18).toString(),e.prev=1,e.next=4,n.methods.addGadget(t,a,i,c).send({from:o});case 4:E(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),U=function(){var e=Object(s.a)(l.a.mark((function e(t,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new x.a(a).shiftedBy(18).toString(),e.prev=1,e.next=4,n.methods.modifyPrice(t,r).send({from:o});case 4:E(),alert("you have successfully changed the price"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(s.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.methods.addCatalogue(t,a).send({from:o});case 3:E(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.methods.reduceCatalogue(t,a).send({from:o});case 3:E(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=new T.web3.eth.Contract(O,"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1"),r=P[t].price,e.next=5,a.methods.approve(g,r).send({from:o});case 5:return e.next=7,n.methods.buyGadget(t).send({from:o});case 7:E(),F(),alert("you have successfully bought this image"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){D()}),[]),Object(a.useEffect)((function(){T&&o&&F()}),[T,o,F]),Object(a.useEffect)((function(){n&&E()}),[n,E]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(p,{cUSDBalance:A}),Object(d.jsx)("h1",{children:"Our Gadgets Collections"}),Object(d.jsx)(b,{gadgets:P,buyGadget:I,walletAddress:o,addCatalogue:J,reduceCatalogue:L,modifyPrice:U}),Object(d.jsx)(y,{addGadget:N})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,982)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};n(975),n(976);i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),T()}},[[979,1,2]]]);
//# sourceMappingURL=main.436338c1.chunk.js.map